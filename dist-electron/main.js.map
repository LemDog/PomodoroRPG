{"version":3,"sources":["../electron/main.ts","../electron/backend/Logger.ts","../electron/backend/types.ts","../electron/backend/GameService.ts"],"sourcesContent":["import { app, BrowserWindow, ipcMain, Menu } from 'electron'\nimport path from 'path'\nimport { GameService } from './backend/GameService'\n\n// Handle creating/removing shortcuts on Windows when installing/uninstalling.\n// if (require('electron-squirrel-startup')) {\n//     app.quit()\n// }\n\n// Initialize Game Service (Backend Logic)\nconst gameService = new GameService();\n\nconst createWindow = () => {\n    // Create the browser window.\n    const mainWindow = new BrowserWindow({\n        width: 1000,\n        height: 800,\n        minWidth: 800,\n        minHeight: 600,\n        webPreferences: {\n            preload: path.join(__dirname, 'preload.js'),\n            nodeIntegration: false,\n            contextIsolation: true, // Secure IPC\n        },\n    })\n\n    // Create Application Menu\n    const menuTemplate = [\n        {\n            label: 'File',\n            submenu: [\n                {\n                    label: 'Enable Test Mode',\n                    type: 'checkbox',\n                    checked: true,\n                    click: (menuItem: any) => {\n                        mainWindow.webContents.send('toggle-debug-mode', menuItem.checked);\n                    }\n                },\n                { type: 'separator' },\n                { role: 'quit' }\n            ]\n        },\n        { role: 'editMenu' },\n        { role: 'viewMenu' },\n        { role: 'windowMenu' }\n    ];\n\n    // @ts-ignore\n    const menu = Menu.buildFromTemplate(menuTemplate);\n    Menu.setApplicationMenu(menu);\n\n    // Register State Updates\n    gameService.registerStateCallback((state) => {\n        // Send to renderer\n        if (!mainWindow.isDestroyed()) {\n            mainWindow.webContents.send('game-state-update', state);\n        }\n    });\n\n    // In dev, load valid local URL. In prod, load index.html from dist\n    mainWindow.loadURL('http://localhost:5173').catch(() => {\n        // If failed, maybe we are in prod builds\n        mainWindow.loadFile(path.join(__dirname, '../dist/index.html'))\n    })\n}\n\n// IPC Handlers\nipcMain.handle('game:getState', () => {\n    return gameService.getState();\n});\n\nipcMain.handle('game:startGame', () => {\n    gameService.startGame();\n    return gameService.getState();\n});\n\nipcMain.handle('game:stopGame', () => {\n    gameService.stopGame();\n    return gameService.getState();\n});\n\n// Debug Handlers\nipcMain.handle('game:debugAddXp', (_, amount) => {\n    gameService.debugAddXp(amount);\n    return gameService.getState();\n});\n\nipcMain.handle('game:debugTriggerEvent', () => {\n    gameService.debugTriggerEvent();\n    return gameService.getState();\n});\n\nipcMain.handle('game:allocateStat', (_, stat) => {\n    gameService.allocateStat(stat);\n    return gameService.getState();\n});\n\nipcMain.handle('game:useItem', (_, itemId) => {\n    gameService.useItem(itemId);\n    return gameService.getState();\n});\n\napp.on('ready', createWindow)\n\napp.on('will-quit', () => {\n    gameService.stopGame();\n})\n\napp.on('window-all-closed', () => {\n    if (process.platform !== 'darwin') {\n        app.quit()\n    }\n})\n\napp.on('activate', () => {\n    if (BrowserWindow.getAllWindows().length === 0) {\n        createWindow()\n    }\n})\n","export enum LogLevel {\n    INFO = 'INFO',\n    WARN = 'WARN',\n    ERROR = 'ERROR',\n    DEBUG = 'DEBUG',\n}\n\nexport class Logger {\n    private scope: string;\n\n    constructor(scope: string) {\n        this.scope = scope;\n    }\n\n    private format(level: LogLevel, message: string, meta?: any) {\n        const timestamp = new Date().toISOString();\n        return `[${timestamp}] [${level}] [${this.scope}]: ${message} ${meta ? JSON.stringify(meta) : ''}`;\n    }\n\n    info(message: string, meta?: any) {\n        console.log(this.format(LogLevel.INFO, message, meta));\n    }\n\n    warn(message: string, meta?: any) {\n        console.warn(this.format(LogLevel.WARN, message, meta));\n    }\n\n    error(message: string, meta?: any) {\n        console.error(this.format(LogLevel.ERROR, message, meta));\n    }\n\n    debug(message: string, meta?: any) {\n        console.debug(this.format(LogLevel.DEBUG, message, meta));\n    }\n}\n","export interface Stats {\n    str: number;\n    agi: number;\n    vit: number;\n    int: number;\n    dex: number;\n    luk: number;\n}\n\nexport interface DerivedStats {\n    hp: number;\n    maxHp: number;\n    sp: number;\n    maxSp: number;\n    atk: number;\n    matk: number;\n    def: number;\n    mdef: number;\n    hit: number;\n    flee: number;\n    aspd: number;\n    crit: number;\n}\n\nexport interface Item {\n    id: string;\n    name: string;\n    type: 'USABLE' | 'EQUIP' | 'ETC';\n    description: string;\n    effect?: {\n        type: 'HEAL_HP' | 'HEAL_SP' | 'BUFF';\n        value: number;\n        duration?: number;\n    };\n    icon?: string;\n    quantity: number;\n}\n\nexport interface Equipment {\n    headUpper?: string;\n    headMiddle?: string;\n    headLower?: string;\n    body?: string;\n    weapon?: string;\n    shield?: string;\n    garment?: string;\n    shoes?: string;\n    accessory1?: string;\n    accessory2?: string;\n}\n\nexport interface Hero {\n    name: string;\n    job: string; // e.g., \"Novice\"\n    level: number;\n    currentXp: number;\n    requiredXp: number;\n    statPoints: number;\n    stats: Stats;\n    derived: DerivedStats;\n    equipment: Equipment;\n    inventory: Item[];\n}\n\nexport interface GameState {\n    hero: Hero;\n    timer: {\n        timeLeft: number; // in seconds\n        isActive: boolean;\n        mode: 'WORK' | 'BREAK';\n    };\n    currentAction: string; // e.g., \"Fighting bug\", \"Refactoring\", \"Coffee break\"\n    log: string[]; // Game log messages\n}\n\nexport const INITIAL_HERO: Hero = {\n    name: \"Novice\",\n    job: \"Novice\",\n    level: 1,\n    currentXp: 0,\n    requiredXp: 100,\n    statPoints: 0,\n    stats: {\n        str: 1,\n        agi: 1,\n        vit: 1,\n        int: 1,\n        dex: 1,\n        luk: 1\n    },\n    derived: {\n        hp: 40,\n        maxHp: 40,\n        sp: 11,\n        maxSp: 11,\n        atk: 2,\n        matk: 2,\n        def: 0,\n        mdef: 0,\n        hit: 101,\n        flee: 101,\n        aspd: 150,\n        crit: 1\n    },\n    equipment: {},\n    inventory: []\n};\n","import { Logger } from './Logger';\nimport { GameState, Hero, INITIAL_HERO, Stats, DerivedStats, Item } from './types';\n\nexport class GameService {\n    private logger: Logger;\n    private state: GameState;\n    private intervalId: NodeJS.Timeout | null = null;\n    private onStateChange: ((state: GameState) => void) | null = null;\n    private lootTable: { chance: number; item: Item }[] = [];\n\n    constructor() {\n        this.logger = new Logger('GameService');\n        this.state = {\n            hero: { ...INITIAL_HERO },\n            timer: {\n                timeLeft: 25 * 60,\n                isActive: false,\n                mode: 'WORK',\n            },\n            currentAction: 'Idle',\n            log: []\n        };\n        this.initializeLootTable();\n        this.calculateDerivedStats();\n        this.logger.info('GameService initialized');\n    }\n\n    public registerStateCallback(callback: (state: GameState) => void) {\n        this.onStateChange = callback;\n    }\n\n    private emitState() {\n        if (this.onStateChange) {\n            this.onStateChange(this.state);\n        }\n    }\n\n    public getState(): GameState {\n        return this.state;\n    }\n\n    private initializeLootTable() {\n        this.lootTable = [\n            { chance: 0.5, item: { id: 'jellopy', name: 'Jellopy', type: 'ETC', description: 'A small crystallization created by some monster.', quantity: 1, icon: 'jellopy' } },\n            { chance: 0.3, item: { id: 'apple', name: 'Apple', type: 'USABLE', description: 'Restores a small amount of HP.', effect: { type: 'HEAL_HP', value: 10 }, quantity: 1, icon: 'apple' } },\n            { chance: 0.1, item: { id: 'red_potion', name: 'Red Potion', type: 'USABLE', description: 'Restores HP.', effect: { type: 'HEAL_HP', value: 45 }, quantity: 1, icon: 'red_potion' } },\n            { chance: 0.1, item: { id: 'blue_potion', name: 'Blue Potion', type: 'USABLE', description: 'Restores SP.', effect: { type: 'HEAL_SP', value: 20 }, quantity: 1, icon: 'blue_potion' } },\n        ];\n    }\n\n    private calculateDerivedStats() {\n        const stats = this.state.hero.stats;\n        const derived = this.state.hero.derived;\n\n        // RO Formulas (Approximate)\n        const baseHp = 35 + this.state.hero.level * 5;\n        const baseSp = 10 + this.state.hero.level * 1;\n\n        derived.maxHp = Math.floor(baseHp * (1 + stats.vit * 0.01));\n        derived.maxSp = Math.floor(baseSp * (1 + stats.int * 0.01));\n\n        derived.atk = stats.str + Math.floor(stats.str / 10) * Math.floor(stats.str / 10) + Math.floor(stats.dex / 5) + Math.floor(stats.luk / 5);\n        derived.matk = stats.int + Math.floor(stats.int / 7) * Math.floor(stats.int / 7);\n\n        derived.def = stats.vit; // Soft DEF\n        derived.mdef = stats.int + Math.floor(stats.vit / 2); // Soft MDEF\n\n        derived.hit = this.state.hero.level + stats.dex;\n        derived.flee = this.state.hero.level + stats.agi;\n        derived.crit = 1 + stats.luk * 0.3;\n        derived.aspd = 150 + Math.floor(Math.sqrt(stats.agi * 9.99 + stats.dex * 0.19)); // Simplified\n\n        // Clamp HP/SP\n        if (derived.hp > derived.maxHp) derived.hp = derived.maxHp;\n        if (derived.sp > derived.maxSp) derived.sp = derived.maxSp;\n    }\n\n    public startGame() {\n        if (this.state.timer.isActive) return;\n\n        this.logger.info('Starting mission');\n        this.addLog('Mission Started!');\n        this.state.timer.isActive = true;\n        this.state.currentAction = 'Hunting...';\n        this.emitState();\n\n        this.intervalId = setInterval(() => this.tick(), 1000);\n    }\n\n    public stopGame() {\n        if (!this.state.timer.isActive) return;\n\n        this.logger.info('Stopping mission (Retreat)');\n        this.addLog('Retreated from combat!');\n        this.distractionPenalty();\n        this.state.timer.isActive = false;\n        this.state.currentAction = 'Resting';\n        if (this.intervalId) {\n            clearInterval(this.intervalId);\n            this.intervalId = null;\n        }\n        this.emitState();\n    }\n\n    private distractionPenalty() {\n        // Penalty for stopping early\n        const hpPenalty = Math.floor(this.state.hero.derived.maxHp * 0.1);\n        this.state.hero.derived.hp = Math.max(0, this.state.hero.derived.hp - hpPenalty);\n        this.addLog(`Distracted! Lost focus and ${hpPenalty} HP.`);\n    }\n\n    private tick() {\n        if (this.state.timer.timeLeft <= 0) {\n            this.completeSession();\n            return;\n        }\n\n        this.state.timer.timeLeft -= 1;\n\n        // Regen Logic (Simplified RO regen)\n        if (this.state.timer.timeLeft % 6 === 0) { // Every 6 seconds\n            const hpRegen = Math.max(1, Math.floor(this.state.hero.stats.vit / 5) + Math.floor(this.state.hero.derived.maxHp / 200));\n            this.state.hero.derived.hp = Math.min(this.state.hero.derived.maxHp, this.state.hero.derived.hp + hpRegen);\n\n            const spRegen = Math.max(1, Math.floor(this.state.hero.stats.int / 6) + Math.floor(this.state.hero.derived.maxSp / 100));\n            this.state.hero.derived.sp = Math.min(this.state.hero.derived.maxSp, this.state.hero.derived.sp + spRegen);\n        }\n\n        // XP Gain based on stats (Intelligence gives bonus XP? Strength gives faster kills -> more XP?)\n        // Let's say base is 1, STR adds chance for bonus.\n        let xpGain = 1;\n        if (Math.random() < (this.state.hero.stats.str * 0.01)) {\n             xpGain += 1;\n        }\n        this.state.hero.currentXp += xpGain;\n        this.checkLevelUp();\n\n        // Random Events\n        if (Math.random() < 0.02) {\n            this.triggerRandomEvent();\n        }\n\n        this.emitState();\n    }\n\n    private triggerRandomEvent() {\n        const events = [\n             { text: 'Found a bug!', hp: -5 },\n             { text: 'Drank a potion.', hp: 10 },\n             { text: 'Felt inspired!', sp: 5 },\n             { text: 'Confused...', sp: -5 }\n        ];\n        const event = events[Math.floor(Math.random() * events.length)];\n        this.state.currentAction = event.text;\n\n        if (event.hp) {\n             this.state.hero.derived.hp = Math.min(this.state.hero.derived.maxHp, Math.max(0, this.state.hero.derived.hp + event.hp));\n        }\n        if (event.sp) {\n             this.state.hero.derived.sp = Math.min(this.state.hero.derived.maxSp, Math.max(0, this.state.hero.derived.sp + event.sp));\n        }\n    }\n\n    private checkLevelUp() {\n        if (this.state.hero.currentXp >= this.state.hero.requiredXp) {\n            this.state.hero.level += 1;\n            this.state.hero.currentXp -= this.state.hero.requiredXp;\n            this.state.hero.requiredXp = Math.floor(this.state.hero.requiredXp * 1.5);\n            this.state.hero.statPoints += 3; // Standard RO stat points per level (approx)\n\n            // Full heal on level up\n            this.calculateDerivedStats();\n            this.state.hero.derived.hp = this.state.hero.derived.maxHp;\n            this.state.hero.derived.sp = this.state.hero.derived.maxSp;\n\n            this.addLog(`Level Up! You are now level ${this.state.hero.level}. gained 3 stat points.`);\n        }\n    }\n\n    private completeSession() {\n        this.logger.info('Session Complete');\n        this.addLog('Mission Complete!');\n        this.state.timer.isActive = false;\n        this.state.timer.timeLeft = 0;\n        this.state.currentAction = 'Mission Complete! Checking for loot...';\n\n        if (this.intervalId) {\n            clearInterval(this.intervalId);\n            this.intervalId = null;\n        }\n\n        this.generateLoot();\n        this.emitState();\n    }\n\n    private generateLoot() {\n        // Luck influences drop rate\n        const dropMultiplier = 1 + (this.state.hero.stats.luk * 0.05);\n\n        for (const entry of this.lootTable) {\n            if (Math.random() < entry.chance * dropMultiplier) {\n                this.addItemToInventory(entry.item);\n                this.addLog(`Found ${entry.item.name}!`);\n            }\n        }\n    }\n\n    private addItemToInventory(item: Item) {\n        const existingItem = this.state.hero.inventory.find(i => i.id === item.id);\n        if (existingItem) {\n            existingItem.quantity += item.quantity;\n        } else {\n            this.state.hero.inventory.push({ ...item });\n        }\n    }\n\n    public allocateStat(stat: keyof Stats) {\n        if (this.state.hero.statPoints > 0) {\n            // RO stat cost scaling could be implemented here, keeping it simple for now (1 point = 1 stat)\n            this.state.hero.stats[stat] += 1;\n            this.state.hero.statPoints -= 1;\n            this.calculateDerivedStats();\n            this.emitState();\n            this.addLog(`Increased ${stat.toUpperCase()} to ${this.state.hero.stats[stat]}`);\n        }\n    }\n\n    public useItem(itemId: string) {\n        const itemIndex = this.state.hero.inventory.findIndex(i => i.id === itemId);\n        if (itemIndex > -1) {\n            const item = this.state.hero.inventory[itemIndex];\n\n            if (item.type === 'USABLE' && item.effect) {\n                if (item.effect.type === 'HEAL_HP') {\n                    this.state.hero.derived.hp = Math.min(this.state.hero.derived.maxHp, this.state.hero.derived.hp + item.effect.value);\n                    this.addLog(`Used ${item.name}, recovered ${item.effect.value} HP`);\n                } else if (item.effect.type === 'HEAL_SP') {\n                    this.state.hero.derived.sp = Math.min(this.state.hero.derived.maxSp, this.state.hero.derived.sp + item.effect.value);\n                    this.addLog(`Used ${item.name}, recovered ${item.effect.value} SP`);\n                }\n\n                item.quantity -= 1;\n                if (item.quantity <= 0) {\n                    this.state.hero.inventory.splice(itemIndex, 1);\n                }\n                this.emitState();\n            }\n        }\n    }\n\n    private addLog(message: string) {\n        this.state.log.unshift(message);\n        if (this.state.log.length > 50) this.state.log.pop();\n    }\n\n    // --- Debug / Test Mode Methods ---\n    public debugAddXp(amount: number) {\n        this.logger.info(`[DEBUG] Adding ${amount} XP`);\n        this.state.hero.currentXp += amount;\n        this.checkLevelUp();\n        this.emitState();\n    }\n\n    public debugTriggerEvent() {\n        this.triggerRandomEvent();\n        this.emitState();\n    }\n}\n"],"mappings":"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","names":["path"]}